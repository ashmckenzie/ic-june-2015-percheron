<!DOCTYPE html>
<html>
  <head>
    <title>Modelling applications with Percheron</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      li { padding-bottom: 20px; }
      p { line-height: 32px; }
      table { border: 1px solid #eee; }
      thead th { padding: 6px; background-color: #eee; }
      tbody td { padding: 4px; }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>

    <textarea id="source">

class: center, middle

# Modelling applications with Percheron

<div class="center">
  <img src="./assets/percheron.png" width="40%" />
</div>

### InfraCoders June 9th 2015
[@ashmckenzie](https://twitter.com/ashmckenzie)

---

background-image: url(assets/percheron-bg.png)
layout: true

---

# Percheron

* Open source command line tool to organise your Docker images & containers
* Similar to [Fig](http://www.fig.sh) / [Docker Compose](http://docs.docker.com/compose) but with a more application focus and more features
* [github.com/ashmckenzie/percheron](https://github.com/ashmckenzie/percheron) started Feb 2015
* Strong and intelligent horse :)

---

# Why?

Existing tools lacked:

  * Concept of multiple collections of containers (Stacks)
  * Facility to build 'base' images
  * Dependency management for building / starting

Notable features:

* Version control
* Support for PRE build and POST start scripts
* Ability to generate dependency diagrams

---

# Config

The `.percheron.yml` has two main sections; `docker` and `stacks`:

```yaml
docker:
  host: "https://boot2docker:2376"
  ssl_verify_peer: false

stacks:
  - name: common
    description: Common units for all stacks
    units: [...]
  - ...
  - name: app
    description: Application
    units: [...]
```

---

notes: test

# Concepts: Stack

Attributes:

| Name          | Req'd   | Description              |
| ------------- | :-----: | ------------------------ |
| `name`        | Y       | Name of the stack        |
| `description` | N       | Description of the stack |

* Contains one more more Units
* The `.percheron.yml` file must have at least one Stack defined

\* required and used when displaying status & generating dependency diagram

```yaml
stacks:
  - name: routing
    description: Load balancing and proxying
    units:
      - name: lb
        ...
      - name: app
```

???

* I like to group Units together in a Stack which allows independent building and starting/stopping of other Stacks.

---

# Concepts: Unit

Supported attributes:

* `name*` (used when displaying status & generating dependency diagram)
* `version*`
* `dockerfile`

\* required

```yaml
- name: lb
  version: 1.0.0
  dockerfile: lb/Dockerfile
  ports:
    - 8888:80
  dependant_unit_names:
    - common:base
    - proxy1
    - proxy2
```



---

class: center, middle

# Demo

## v0.7.10

---

# Upcoming features in v0.8.0

---

# Thanks!

Give Percheron a go! [github.com/ashmckenzie/percheron](https://github.com/ashmckenzie/percheron)

Credit to Dan Bradford ([@unroundme](https://twitter.com/unroundme)) for the awesome logo :)

    </textarea>

    <script src="./assets/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
